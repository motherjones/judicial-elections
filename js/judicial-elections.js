// Generated by CoffeeScript 1.6.2
var $img, $sections, $window, checkInView, docHeight;

docHeight = $(window).height();

$sections = $("section");

$window = $(window);

$img = $('#pinned-image');

$img.attr('src', $('section').first().find('img').attr('src'));

checkInView = function() {
  var scrollTop, winBottom, winTop;

  docHeight = $(window).height();
  winTop = $(window).scrollTop();
  winBottom = winTop + $(window).height();
  scrollTop = $(document).scrollTop();
  console.log("check in view");
  console.log(scrollTop);
  return $sections.each(function(i, el) {
    var elBottom, elTop;

    elTop = $(el).offset().top;
    elBottom = elTop + $(el).height();
    if (elTop >= winTop && elTop <= winBottom) {
      $('#section-nav').text($(el).find('img').attr('src') + " winTop: " + winTop + " elTop: " + elTop);
      return $img.attr('src', $(el).find('img').attr('src'));
    }
  });
};

$window.on('scroll', function(e) {
  return _.throttle(checkInView(), 750);
});
